@using CinemaWorld.Models.ViewModels.Movies
@using CinemaWorld.Web.Infrastructure
@model PaginatedList<MovieDetailsViewModel>
@{
    ViewData["Title"] = "All";
}

@{
    var prevDisabled = !Model.HasPreviousPage ? "disabled" : "";
    var nextDisabled = !Model.HasNextPage ? "disabled" : "";
    int movieCounter = 0;
}

<link rel="stylesheet" type="text/css" href="~/list-css/table-style.css" />
<link rel="stylesheet" type="text/css" href="~/list-css/basictable.css" />

<!-- faq-banner -->
<div class="faq">
    <h4 class="latest-text w3_faq_latest_text w3_latest_text">Movies List</h4>
    <div class="container">
        <div class="agileits-news-top">
            <ol class="breadcrumb">
                <li><a asp-controller="Home" asp-action="Index">Home</a></li>
                <li class="active">All movies</li>
            </ol>
        </div>
        <div class="bs-example bs-example-tabs" role="tabpanel" data-example-id="togglable-tabs">
            <ul id="myTab" class="nav nav-tabs" role="tablist">
                <li role="presentation" class="active"><a href="#home" id="home-tab" role="tab" data-toggle="tab" aria-controls="home" aria-expanded="true">1 - @Model.Count()</a></li>
                <li role="presentation"><a href="#a" role="tab" id="a-tab" data-toggle="tab" aria-controls="a">A</a></li>
                <li role="presentation"><a href="#b" role="tab" id="b-tab" data-toggle="tab" aria-controls="b">B</a></li>
                <li role="presentation"><a href="#c" role="tab" id="c-tab" data-toggle="tab" aria-controls="c">C</a></li>
                <li role="presentation"><a href="#d" role="tab" id="d-tab" data-toggle="tab" aria-controls="d">D</a></li>
                <li role="presentation"><a href="#e" role="tab" id="e-tab" data-toggle="tab" aria-controls="e">E</a></li>
                <li role="presentation"><a href="#f" role="tab" id="f-tab" data-toggle="tab" aria-controls="f">F</a></li>
                <li role="presentation"><a href="#g" role="tab" id="g-tab" data-toggle="tab" aria-controls="g">G</a></li>
                <li role="presentation"><a href="#h" role="tab" id="h-tab" data-toggle="tab" aria-controls="h">H</a></li>
                <li role="presentation"><a href="#i" role="tab" id="i-tab" data-toggle="tab" aria-controls="i">I</a></li>
                <li role="presentation"><a href="#j" role="tab" id="j-tab" data-toggle="tab" aria-controls="j">J</a></li>
                <li role="presentation"><a href="#k" role="tab" id="k-tab" data-toggle="tab" aria-controls="k">K</a></li>
                <li role="presentation"><a href="#l" role="tab" id="l-tab" data-toggle="tab" aria-controls="l">L</a></li>
                <li role="presentation"><a href="#m" role="tab" id="m-tab" data-toggle="tab" aria-controls="m">M</a></li>
                <li role="presentation"><a href="#n" role="tab" id="n-tab" data-toggle="tab" aria-controls="n">N</a></li>
                <li role="presentation"><a href="#o" role="tab" id="o-tab" data-toggle="tab" aria-controls="o">O</a></li>
                <li role="presentation"><a href="#p" role="tab" id="p-tab" data-toggle="tab" aria-controls="p">P</a></li>
                <li role="presentation"><a href="#q" role="tab" id="q-tab" data-toggle="tab" aria-controls="q">Q</a></li>
                <li role="presentation"><a href="#r" role="tab" id="r-tab" data-toggle="tab" aria-controls="r">R</a></li>
                <li role="presentation"><a href="#s" role="tab" id="s-tab" data-toggle="tab" aria-controls="s">S</a></li>
                <li role="presentation"><a href="#t" role="tab" id="t-tab" data-toggle="tab" aria-controls="t">T</a></li>
                <li role="presentation"><a href="#u" role="tab" id="u-tab" data-toggle="tab" aria-controls="u">U</a></li>
                <li role="presentation"><a href="#v" role="tab" id="v-tab" data-toggle="tab" aria-controls="v">V</a></li>
                <li role="presentation"><a href="#w" role="tab" id="w-tab" data-toggle="tab" aria-controls="w">W</a></li>
                <li role="presentation"><a href="#x" role="tab" id="x-tab" data-toggle="tab" aria-controls="x">X</a></li>
                <li role="presentation"><a href="#y" role="tab" id="y-tab" data-toggle="tab" aria-controls="y">Y</a></li>
                <li role="presentation"><a href="#z" role="tab" id="z-tab" data-toggle="tab" aria-controls="z">Z</a></li>
            </ul>
            <form asp-action="All" method="get">
                <div class="form-actions no-color">
                    <p>
                        Find by name: <input type="text" name="SearchString" value="@ViewData["currentFilter"]" />
                        <input type="submit" value="Search" class="btn btn-sm btn-primary" /> |
                        <a asp-action="All">Back to Full List</a>
                    </p>
                </div>
            </form>
            <hr />
            <div id="myTabContent" class="tab-content">
                <div role="tabpanel" class="tab-pane fade in active" id="home" aria-labelledby="home-tab">
                    <div class="agile-news-table">
                        <div class="w3ls-news-result">
                            <h4>Total Count : <span>@Model.Count()</span></h4>
                        </div>
                        <div class="w3ls-news-result">
                            <a asp-action="All" asp-route-pageNumber="@(Model.PageIndex - 1)" class="btn btn-primary @prevDisabled">
                                Previous
                            </a>
                            <a asp-action="All" asp-route-pageNumber="@(Model.PageIndex + 1)" class="btn btn-primary @nextDisabled">
                                Next
                            </a>
                        </div>
                        <table id="table-breakpoint">
                            <thead>
                                <tr>
                                    <th>No.</th>
                                    <th>Movie Name</th>
                                    <th>Movie Language</th>
                                    <th>Length</th>
                                    <th>Cinema category</th>
                                    <th>Date of release</th>
                                    <th>Resolution</th>
                                    <th>Country</th>
                                    <th>Genre</th>
                                    <th>Director</th>
                                    <th>Rating</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var movie in Model)
                                {
                                    movieCounter++;
                                    <tr>
                                        <td>@movieCounter</td>
                                        <td class="w3-list-img">
                                            <a asp-action="Details" asp-route-id="@movie.Id">
                                                <img src="@movie.CoverPath" alt="Movie Cover" />
                                                <span>
                                                    <strong>@movie.Name</strong>
                                                </span>
                                            </a>
                                        </td>
                                        <td>@movie.Language</td>
                                        <td>@movie.Length</td>
                                        <td>@movie.CinemaCategory</td>
                                        <td>@movie.OnlyDate</td>
                                        <td>@movie.Resolution</td>
                                        <td class="w3-list-info">
                                            @foreach (var movieCountry in movie.MovieCountries)
                                            {
                                                <span>@movieCountry.Country.Name</span>
                                            }
                                        </td>
                                        <td class="w3-list-info">
                                            @foreach (var movieGenre in movie.MovieGenres)
                                            {
                                                <span>@movieGenre.Genre.Name</span>
                                            }
                                        </td>
                                        <td>@movie.Director.FullName</td>
                                        <td>@movie.Rating</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="a" aria-labelledby="a-tab">
                <div class="agile-news-table">
                    <table id="table-breakpoint1">
                        <thead>
                            <tr>
                                <th>No.</th>
                                <th>Movie Name</th>
                                <th>Year</th>
                                <th>Resolution</th>
                                <th>Country</th>
                                <th>Genre</th>
                                <th>Rating</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td class="w3-list-img"><a href="single.html"><img src="~/images/n3.jpg" alt="" /> <span>2 Sausage Party</span></a></td>
                                <td>2013</td>
                                <td>HD</td>
                                <td class="w3-list-info"><a href="genres.html">United Kingdom</a></td>
                                <td class="w3-list-info"><a href="genres.html">Comedy, Drama</a></td>
                                <td>7.0</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td class="w3-list-img"><a href="single.html"><img src="~/images/n4.jpg" alt="" /> <span>2.0 Morgan</span></a></td>
                                <td>2014</td>
                                <td>HD</td>
                                <td class="w3-list-info"><a href="genres.html">United States</a></td>
                                <td class="w3-list-info"><a href="genres.html">Action</a></td>
                                <td>7.1</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- //faq-banner -->

@section Scripts
{
    <script type="text/javascript" src="~/list-js/jquery.basictable.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#table').basictable();

            $('#table-breakpoint').basictable({
                breakpoint: 768
            });
        });
    </script>
}
